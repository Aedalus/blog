---
import BaseLayout from "../layouts/BaseLayout.astro";
const pageTitle = "Blog";
import BlogSummary from "../components/BlogSummary.astro";

const allPosts = await Astro.glob("./posts/*.md")
const filteredPosts = allPosts.filter(x => x.frontmatter.published)
---

<style>
  a {
    text-decoration: none;
  }
</style>
<BaseLayout pageTitle={pageTitle}>
  {
    filteredPosts.map((post) => (
      <>
        <BlogSummary
          url={post.url}
          title={post.frontmatter.title}
          date={post.frontmatter.pubDate}
          summary={post.frontmatter.summary}
        />
      </>
    ))
  }
</BaseLayout>
